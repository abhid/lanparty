<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>lanparty · admin</title>
    <link rel="stylesheet" href="/assets/style.css" />
  </head>
  <body class="admin-page">
    <header class="topbar">
      <a class="brand" href="/" title="lanparty">
        <span class="logo" aria-hidden="true">
          <svg class="i logo-i"><use href="/assets/icons.svg#folders"></use></svg>
        </span>
        <span class="word">lanparty</span>
      </a>
      <div class="spacer"></div>
      <a class="btn ghost" href="/">
        <svg class="i" aria-hidden="true"><use href="/assets/icons.svg#open"></use></svg>
        Back
      </a>
    </header>

    <main class="main admin-shell">
      <aside class="admin-nav">
        <div class="nav-head">
          <h1>Admin</h1>
        </div>
        <nav class="nav-list">
          <button type="button" class="nav-item active" data-pane="general">
            <svg class="i" aria-hidden="true"><use href="/assets/icons.svg#server"></use></svg>
            Server
          </button>
          <button type="button" class="nav-item" data-pane="acls">
            <svg class="i" aria-hidden="true"><use href="/assets/icons.svg#link"></use></svg>
            ACLs
          </button>
          <button type="button" class="nav-item" data-pane="shares">
            <svg class="i" aria-hidden="true"><use href="/assets/icons.svg#folders"></use></svg>
            Shares
          </button>
          <button type="button" class="nav-item" data-pane="accounts">
            <svg class="i" aria-hidden="true"><use href="/assets/icons.svg#user"></use></svg>
            Users
          </button>
          <button type="button" class="nav-item" data-pane="tokens">
            <svg class="i" aria-hidden="true"><use href="/assets/icons.svg#key"></use></svg>
            Tokens
          </button>
          <button type="button" class="nav-item" data-pane="tools">
            <svg class="i" aria-hidden="true"><use href="/assets/icons.svg#code"></use></svg>
            Tools
          </button>
        </nav>
        <div class="nav-actions">
          <button type="button" class="btn primary" id="cfg-save" disabled>
            <svg class="i" aria-hidden="true"><use href="/assets/icons.svg#save"></use></svg>
            Save changes
          </button>
          <button type="button" class="btn ghost" id="cfg-discard" disabled>
            <svg class="i" aria-hidden="true"><use href="/assets/icons.svg#retry"></use></svg>
            Discard
          </button>
        </div>
      </aside>

      <section class="admin-content">
        <div class="admin-pane active" data-pane="general">
          <h2>Server configuration</h2>
          <div id="cfg-general" class="table-wrap"></div>
        </div>

        <div class="admin-pane" data-pane="acls">
          <div class="pane-header">
            <h2>Global ACL rules</h2>
            <div class="meta">First match wins</div>
          </div>
          <div id="cfg-acls" class="table-wrap"></div>
        </div>

        <div class="admin-pane" data-pane="shares">
          <div class="pane-header">
            <div>
              <h2>Shares</h2>
              <div class="meta">Virtual roots mount at /s/&lt;name&gt;</div>
            </div>
            <button type="button" class="btn ghost" id="cfg-share-add">
              <svg class="i" aria-hidden="true"><use href="/assets/icons.svg#newfolder"></use></svg>
              Add share
            </button>
          </div>
          <div id="cfg-shares" class="table-wrap"></div>
        </div>

        <div class="admin-pane" data-pane="accounts">
          <div class="pane-header">
            <h2>Users</h2>
          </div>
          <div class="form-inline">
            <input id="user-name" type="text" class="renin" placeholder="Username" />
            <input id="user-pass" type="password" class="renin" placeholder="Password" />
            <input id="user-cost" type="number" class="renin narrow" value="10" min="4" max="31" />
            <button type="button" class="btn" id="user-save">
              <svg class="i" aria-hidden="true"><use href="/assets/icons.svg#check"></use></svg>
              Save user
            </button>
          </div>
          <div id="users-empty" class="meta muted">No users yet.</div>
          <div id="users-list" class="table-wrap"></div>
        </div>

        <div class="admin-pane" data-pane="tokens">
          <div class="pane-header">
            <h2>Tokens</h2>
          </div>
          <div class="form-inline">
            <input id="tok-user" type="text" class="renin" placeholder="Username for token" />
            <button type="button" class="btn" id="tok-create">
              <svg class="i" aria-hidden="true"><use href="/assets/icons.svg#code"></use></svg>
              Create token
            </button>
            <textarea id="tok-output" class="mono-field" readonly placeholder="New token appears here"></textarea>
            <button type="button" class="btn ghost" id="tok-copy" disabled>
              <svg class="i" aria-hidden="true"><use href="/assets/icons.svg#copy"></use></svg>
              Copy
            </button>
          </div>
          <div class="form-inline">
            <input id="tok-revoke" type="text" class="renin" placeholder="Paste full token to revoke" />
            <button type="button" class="btn ghost danger" id="tok-revoke-btn">
              <svg class="i" aria-hidden="true"><use href="/assets/icons.svg#trash"></use></svg>
              Revoke
            </button>
          </div>
          <div id="tokens-empty" class="meta muted">No tokens yet.</div>
          <div id="tokens-list" class="table-wrap"></div>
        </div>

        <div class="admin-pane" data-pane="tools">
          <div class="pane-header">
            <h2>Bcrypt generator</h2>
          </div>
          <table class="admin-table form-table">
            <tbody>
              <tr>
                <th>Password</th>
                <td><input id="bcrypt-pass" type="password" class="renin" placeholder="Enter password…" /></td>
              </tr>
              <tr>
                <th>Cost</th>
                <td><input id="bcrypt-cost" type="number" class="renin narrow" value="10" min="4" max="31" /></td>
              </tr>
              <tr>
                <th>Actions</th>
                <td>
                  <div class="form-inline">
                    <button type="button" class="btn" id="bcrypt-generate">
                      <svg class="i" aria-hidden="true"><use href="/assets/icons.svg#code"></use></svg>
                      Generate hash
                    </button>
                    <button type="button" class="btn ghost" id="bcrypt-copy" disabled>
                      <svg class="i" aria-hidden="true"><use href="/assets/icons.svg#copy"></use></svg>
                      Copy hash
                    </button>
                  </div>
                </td>
              </tr>
              <tr>
                <th>Result</th>
                <td><textarea id="bcrypt-output" class="mono-field" readonly placeholder="Hash appears here"></textarea></td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
    </main>

    <div class="toasts" id="toasts" aria-live="polite" aria-relevant="additions"></div>
    <script type="module" src="/assets/admin.js"></script>
  </body>
</html>


